<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 3.8.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">


<script id="hexo-configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    hostname: new URL('http://liu-hang.cn').hostname,
    root: '/',
    scheme: 'Muse',
    version: '7.7.0',
    exturl: false,
    sidebar: {"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},
    copycode: {"enable":false,"show_result":false,"style":null},
    back2top: {"enable":true,"sidebar":false,"scrollpercent":false},
    bookmark: {"enable":false,"color":"#222","save":"auto"},
    fancybox: false,
    mediumzoom: false,
    lazyload: false,
    pangu: false,
    comments: {"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},
    algolia: {
      appID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    },
    localsearch: {"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},
    path: 'search.xml',
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}
  };
</script>

  <meta name="keywords" content="博客">
<meta property="og:type" content="website">
<meta property="og:title" content="dreamser.com 技术博客">
<meta property="og:url" content="http://liu-hang.cn/page/2/index.html">
<meta property="og:site_name" content="dreamser.com 技术博客">
<meta property="og:locale" content="zh-CN">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="dreamser.com 技术博客">

<link rel="canonical" href="http://liu-hang.cn/page/2/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome: true,
    isPost: false
  };
</script>

  <title>dreamser.com 技术博客</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">dreamser.com 技术博客</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
        <p class="site-subtitle">每天进步一点点</p>
  </div>

  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>首页</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>归档</a>

  </li>
  </ul>

</nav>
</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content">
            

  <div class="posts-expand">
        
  
  
  <article itemscope="" itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://liu-hang.cn/2019/11/21/193-scrapy-starting/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="dreamser.com">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="dreamser.com 技术博客">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2019/11/21/193-scrapy-starting/" class="post-title-link" itemprop="url">Scrapy 入门</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2019-11-21 14:56:54" itemprop="dateCreated datePublished" datetime="2019-11-21T14:56:54+08:00">2019-11-21</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope="" itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://liu-hang.cn/2019/11/21/195-stock-datas/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="dreamser.com">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="dreamser.com 技术博客">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2019/11/21/195-stock-datas/" class="post-title-link" itemprop="url">股票数据来源整理</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2019-11-21 14:56:54" itemprop="dateCreated datePublished" datetime="2019-11-21T14:56:54+08:00">2019-11-21</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>宏观分析、行业分析、个股研究、策略研究</p>
<h4 id="行业分类"><a href="#行业分类" class="headerlink" title="行业分类"></a>行业分类</h4><ul>
<li><a href="https://unstats.un.org/unsd/publication/SeriesM/seriesm_4rev_4.pdf" target="_blank" rel="noopener">联合国经济社会理事会《所有经济活动的国际标准行业分类》（International Standard Industrial Classification of All Economic Activities (ISIC)）</a> 最新版本为第四版</li>
<li><a href="International Standard Industrial Classification of All Economic Activities (ISIC">证监会《上市公司行业分类指引》</a>)</li>
</ul>
<h4 id="公司信息-amp-财务数据-amp-财报下载"><a href="#公司信息-amp-财务数据-amp-财报下载" class="headerlink" title="公司信息&amp;财务数据&amp;财报下载"></a>公司信息&amp;财务数据&amp;财报下载</h4><ul>
<li><a href="http://www.cninfo.com.cn/new/index" target="_blank" rel="noopener">巨潮资讯</a> <em>用好搜索</em></li>
</ul>
<h4 id="市盈率"><a href="#市盈率" class="headerlink" title="市盈率"></a>市盈率</h4><ul>
<li><a href="http://www.csindex.com.cn/zh-CN/downloads/industry-price-earnings-ratio" target="_blank" rel="noopener">中证指数有限公司</a></li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope="" itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://liu-hang.cn/2019/11/21/194-roe/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="dreamser.com">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="dreamser.com 技术博客">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2019/11/21/194-roe/" class="post-title-link" itemprop="url">ROE</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2019-11-21 14:56:54" itemprop="dateCreated datePublished" datetime="2019-11-21T14:56:54+08:00">2019-11-21</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="ROE"><a href="#ROE" class="headerlink" title="ROE"></a>ROE</h3><p>ROE 是 Return Of Equity 的缩写，中文意思是股本回报率，又叫股权收益率、股本收益率以及我们最常用的净资产收益率。</p>
<p>净资产收益率是衡量相对于股东权益的投资产出回报的指标，反映公司利用资产净值产生纯利的能力。最简单的理解方式是：假设公司 ROE 为 30%，那么投资者投入1块钱，公司就能产生3毛钱的净利润。</p>
<p>净资产收益率又分全面摊薄净资产收益率与加权平均净资产收益率</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2019/11/21/194-roe/#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope="" itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://liu-hang.cn/2019/11/21/196-profit-and-loss-statement/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="dreamser.com">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="dreamser.com 技术博客">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2019/11/21/196-profit-and-loss-statement/" class="post-title-link" itemprop="url">利润表</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2019-11-21 14:56:54" itemprop="dateCreated datePublished" datetime="2019-11-21T14:56:54+08:00">2019-11-21</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="概念与结构"><a href="#概念与结构" class="headerlink" title="概念与结构"></a>概念与结构</h3><h5 id="概念"><a href="#概念" class="headerlink" title="概念"></a>概念</h5><p>利润表是反映企业在一定会计期间经营成果的报表。由于它反映的是某一期间的情况，所以，又被称为动态报表。有时，利润表也称为损益表、收益表。</p>
<h5 id="结构"><a href="#结构" class="headerlink" title="结构"></a>结构</h5><p><img src="https://cdn.dreamser.com/%E5%88%A9%E6%B6%A6%E8%A1%A8%E6%A0%BC%E5%BC%8F.png" alt="利润表格式"><br><img src="https://cdn.dreamser.com/%E8%8B%8F%E5%AE%812018%E5%B9%B4%E6%8A%A5%E5%88%A9%E6%B6%A6%E8%A1%A8.png" alt="苏宁易购2018年年报利润表"></p>
<h5 id="简化结构"><a href="#简化结构" class="headerlink" title="简化结构"></a>简化结构</h5><table>
<thead>
<tr>
<th>项目</th>
<th>处理</th>
<th>结果</th>
</tr>
</thead>
<tbody>
<tr>
<td>营业收入</td>
<td></td>
<td></td>
<td><em>**</em></td>
</tr>
<tr>
<td>营业成本</td>
<td>减</td>
<td>毛利润</td>
</tr>
<tr>
<td>费用</td>
<td></td>
<td></td>
</tr>
<tr>
<td>其他损益</td>
<td>减</td>
<td>营业利润</td>
</tr>
<tr>
<td>营业外收支</td>
<td>加减</td>
<td>利润总额</td>
</tr>
<tr>
<td>所得税</td>
<td>减</td>
<td>净利润</td>
</tr>
<tr>
<td>少数股东损益</td>
<td>加减</td>
<td>归母净利润</td>
</tr>
<tr>
<td>非经常性损益</td>
<td>加减</td>
<td>扣非归母净利润</td>
</tr>
</tbody>
</table>
<h3 id="财务细项"><a href="#财务细项" class="headerlink" title="财务细项"></a>财务细项</h3><h5 id="营业收入"><a href="#营业收入" class="headerlink" title="营业收入"></a>营业收入</h5><p>营业收入是企业在生产经营活动中，因销售产品或提供劳务而取得的各项收入。</p>
<p>… <a href="https://wiki.mbalib.com/wiki/%E8%90%A5%E4%B8%9A%E6%94%B6%E5%85%A5" target="_blank" rel="noopener">详细解释</a></p>
<h5 id="营业成本"><a href="#营业成本" class="headerlink" title="营业成本"></a>营业成本</h5><p>营业成本是企业本期已实现销售的商品产品成本和已对外提供劳务的成本。</p>
<p>… <a href="https://wiki.mbalib.com/wiki/%E8%90%A5%E4%B8%9A%E6%88%90%E6%9C%AC" target="_blank" rel="noopener">详细解释</a></p>
<h5 id="税金及附加"><a href="#税金及附加" class="headerlink" title="税金及附加"></a>税金及附加</h5><p>税金及附加是指企业经营活动应负担的相关税费，包括消费税、城市维护建设税、教育费附加、资源税、房产税、城镇土地使用税、车船税、印花税等。</p>
<p>… <a href="https://wiki.mbalib.com/wiki/%E8%90%A5%E4%B8%9A%E7%A8%8E%E9%87%91%E5%8F%8A%E9%99%84%E5%8A%A0" target="_blank" rel="noopener">详细解释</a></p>
<h5 id="销售费用"><a href="#销售费用" class="headerlink" title="销售费用"></a>销售费用</h5><p>销售费用是指企业在销售产品、自制半成品和工业性劳务等过程中发生的各项费用,包括由企业负担的包装费、运输费、装卸费、展览费、广告费、租赁费（不包括融资租赁费），以及为销售本企业产品而专设的销售机构的费用，包括职工工资、福利费、差旅费、办公费、折旧费、修理费、物料消耗和其他经费。销售费用属于期间费用，在发生的当期就计入当期的损益。</p>
<p>… <a href="https://wiki.mbalib.com/wiki/%E9%94%80%E5%94%AE%E8%B4%B9%E7%94%A8" target="_blank" rel="noopener">详细解释</a></p>
<h5 id="管理费用"><a href="#管理费用" class="headerlink" title="管理费用"></a>管理费用</h5><p>管理费用是指企业的行政管理部门为管理和组织经营而发生的各项费用，包括管理人员工资和福利费、公司一级折旧费、修理费、技术转让费、无形资产和递延资产摊销费及其他管理费用（办公费、差旅费、劳保费、土地使用税等）。</p>
<p>管理费用是期间费用的一种，它主要是指企业行政管理部门为组织和管理生产经营活动而发生的各种费用。具体包括的项目有：工资福利费、折旧费、工会费、职工教育经费、业务招待费、房产税、车船使用税、土地使用税。印花税、技术转让费、无形资产摊销、咨询费、诉讼费、坏账损失、公司经费、劳动保险费、董事会会费等等。</p>
<p>… <a href="https://wiki.mbalib.com/wiki/%E7%AE%A1%E7%90%86%E8%B4%B9%E7%94%A8" target="_blank" rel="noopener">详细解释</a></p>
<h5 id="财务费用"><a href="#财务费用" class="headerlink" title="财务费用"></a>财务费用</h5><p>财务费用是指企业为筹集生产经营所需资金等而发生的费用，包括利息支出（减利息收入）、汇兑损失（减汇兑收益）以及相关的手续费等。包括企业生产经营期间发生的利息支出（减利息收入）、汇兑净损失（有的企业如商品流通企业、保险企业进行单独核算，不包括在财务费用）、金融机构手续费，以及筹资发生的其他财务费用如债券印刷费、国外借款担保费等。</p>
<p>… <a href="https://wiki.mbalib.com/wiki/%E8%B4%A2%E5%8A%A1%E8%B4%B9%E7%94%A8" target="_blank" rel="noopener">详细解释</a></p>
<h5 id="资产减值损失"><a href="#资产减值损失" class="headerlink" title="资产减值损失"></a>资产减值损失</h5><p>资产减值，是指资产的可收回金额低于其账面价值。</p>
<p>资产减值损失是指企业根据《资产减值准则》等计提各项资产减值准备时，所形成的或有损失。如计提的坏账准备，存货跌价准备和固定资产减值准备等形成的损失。</p>
<p>新会计准则规定资产减值范围主要是固定资产、无形资产以及除特别规定外的其他资产减值的处理。《资产减值准则》改变了固定资产、无形资产等的减值准备计提后可以转回的做法，资产减值损失一经确认，在以后会计期间不得转回，消除了一些企业通过计提秘密准备来调节利润的可能，限制了利润的人为波动。</p>
<p>… <a href="https://wiki.mbalib.com/wiki/%E8%B5%84%E4%BA%A7%E5%87%8F%E5%80%BC%E6%8D%9F%E5%A4%B1" target="_blank" rel="noopener">详细解释</a></p>
<h5 id="公允价值变动收益"><a href="#公允价值变动收益" class="headerlink" title="公允价值变动收益"></a>公允价值变动收益</h5><p>公允价值变动收益是指资产或负债因公允价值变动所形成的收益。</p>
<p>… <a href="https://wiki.mbalib.com/wiki/%E5%85%AC%E5%85%81%E4%BB%B7%E5%80%BC%E5%8F%98%E5%8A%A8%E6%94%B6%E7%9B%8A" target="_blank" rel="noopener">详细解释</a></p>
<h5 id="投资收益"><a href="#投资收益" class="headerlink" title="投资收益"></a>投资收益</h5><p>投资收益是指企业进行投资所获得的经济利益。</p>
<p>… <a href="https://wiki.mbalib.com/wiki/%E6%8A%95%E8%B5%84%E6%94%B6%E7%9B%8A" target="_blank" rel="noopener">详细解释</a></p>
<h5 id="营业利润"><a href="#营业利润" class="headerlink" title="营业利润"></a>营业利润</h5><p>销售营业利润=营业收入－营业成本－营业税金及附加－营业费用－管理费用－财务费用－资产减值损失+公允价值变动收益（或减变动损失）+投资收益（或减投资损失）</p>
<p>… <a href="https://wiki.mbalib.com/wiki/%E8%90%A5%E4%B8%9A%E5%88%A9%E6%B6%A6" target="_blank" rel="noopener">详细解释</a></p>
<h5 id="营业外收支"><a href="#营业外收支" class="headerlink" title="营业外收支"></a>营业外收支</h5><p>营业外收支是指与企业的业务经营无直接关系的收益和支出。又称营业外损益。是企业财务成果的组成部分。</p>
<p>营业外收支是指企业发生的与其生产经营活动无直接关系的各项收入和各项支出。</p>
<p>在中国，国营企业的营业外收支项目和范围，由国家统一规定。营业外收入的项目，主要有租金收入、没收逾期未退包装物的押金收入、应补产品价外补贴和无法支付的应付款项等。营业外支出的项目，主要有劳动保险费用、职工子弟学校经费、技工学校经费、新产品试制失败损失、非常损失、呆帐损失、治理三废支出等。</p>
<p>… <a href="https://wiki.mbalib.com/wiki/%E8%90%A5%E4%B8%9A%E5%A4%96%E6%94%B6%E6%94%AF" target="_blank" rel="noopener">详细解释</a></p>
<h5 id="利润总额"><a href="#利润总额" class="headerlink" title="利润总额"></a>利润总额</h5><p>利润总额是指税前利润，也就是企业在所得税前一定时期内经营活动的总成果。</p>
<p>… <a href="https://wiki.mbalib.com/wiki/%E5%88%A9%E6%B6%A6%E6%80%BB%E9%A2%9D" target="_blank" rel="noopener">详细解释</a></p>
<h5 id="所得税费用"><a href="#所得税费用" class="headerlink" title="所得税费用"></a>所得税费用</h5><p>所得税费用是指企业为取得会计税前利润应交纳的所得税。</p>
<p>… <a href="https://wiki.mbalib.com/wiki/所得税费用" target="_blank" rel="noopener">详细解释</a></p>
<h5 id="其他综合收益"><a href="#其他综合收益" class="headerlink" title="其他综合收益"></a>其他综合收益</h5><p>其他综合收益是指企业根据企业会计准则规定未在损益中确认的各项利得和损失扣除所得税影响后的净额。</p>
<p>… <a href="https://wiki.mbalib.com/wiki/%E5%85%B6%E4%BB%96%E7%BB%BC%E5%90%88%E6%94%B6%E7%9B%8A" target="_blank" rel="noopener">详细解释</a></p>
<h5 id="每股收益"><a href="#每股收益" class="headerlink" title="每股收益"></a>每股收益</h5><p>每股收益即EPS，又称每股税后利润、每股盈余，指税后利润与股本总数的比率。它是测定股票投资价值的重要指标之一，是分析每股价值的一个基础性指标，是综合反映公司获利能力的重要指标，它是公司某一时期净利润与股份数的比率。该比率反映了每股创造的税后利润, 比率越高, 表明所创造的利润就越多。 若公司只有普通股时，每股收益就是税后利润，股份数是指发行在外的普通股股数。如果公司还有优先股，应先从税后利润中扣除分派给优先股股东的利息。</p>
<p>… <a href="https://wiki.mbalib.com/wiki/%E6%AF%8F%E8%82%A1%E6%94%B6%E7%9B%8A" target="_blank" rel="noopener">详细解释</a></p>
<h3 id="财务指标"><a href="#财务指标" class="headerlink" title="财务指标"></a>财务指标</h3><h5 id="毛利率"><a href="#毛利率" class="headerlink" title="毛利率"></a>毛利率</h5><blockquote>
<p>毛利率 = （营业收入 - 营业成本）\/ 营业收入</p>
</blockquote>
<p>销售毛利率，表示每一元销售收入扣除销售成本后，有多少钱可以用于各项期间费用和形成盈利。销售毛利率是企业销售净利率的最初基础，没有足够大的毛利率便不能盈利。</p>
<p>销售毛利率是销售净利率的基础，没有足够多的毛利率便不能盈利。销售毛利率越高，说明企业销售成本在销售收入净额中所占的比重越小，在期间费用和其他业务利润一定的情况下，营业利润就越高。销售毛利率还与企业的竞争力和企业所处的行业有关。</p>
<p>… <a href="https://wiki.mbalib.com/wiki/%E6%AF%9B%E5%88%A9%E7%8E%87" target="_blank" rel="noopener">详细解释</a></p>
<h5 id="成本率"><a href="#成本率" class="headerlink" title="成本率"></a>成本率</h5><blockquote>
<p>成本率 = 营业成本 \/ 营业收入 = 1 - 毛利率</p>
</blockquote>
<p>与毛利率相对应，销售成本率是用以反映企业每元销售收入所需的成本支出。销售成本率的异常偏高，预示着企业销售方法不正确或企业处于不利的市场竞争地位。</p>
<h5 id="费用率"><a href="#费用率" class="headerlink" title="费用率"></a>费用率</h5><blockquote>
<p>费用率 = 费用 \/ 营业收入</p>
</blockquote>
<p>销售期间费用率是指期间费用与销售收入净额之间的比率。该指标越低越好，当销售期间费用率大于销售毛利率时，则说明企业盈利相当困难。</p>
<h5 id="利润率"><a href="#利润率" class="headerlink" title="利润率"></a>利润率</h5><blockquote>
<p>利润率 = 利润总额 \/ 营业收入</p>
</blockquote>
<h5 id="净利率"><a href="#净利率" class="headerlink" title="净利率"></a>净利率</h5><blockquote>
<p>净利率 = 净利润 \/ 营业收入</p>
</blockquote>
<p>该指标反映每一元销售收入带来的净利润的多少，表示销售收入的收益水平。一般的讲，该指标越大，说明企业销售的盈利能力越强。一个企业如果能保持良好的持续增长的销售净利率，应该讲企业的财务状况是好的，但并不能绝对的讲销售净利率越大越好，还必须看企业的销售增长情况和净利润的变动情况。</p>
<h3 id="概念补充"><a href="#概念补充" class="headerlink" title="概念补充"></a>概念补充</h3><h5 id="1-少数股东"><a href="#1-少数股东" class="headerlink" title="1. 少数股东"></a>1. 少数股东</h5><p>持有50%以下投票权股票的公司股东。这种股东在公司没有绝对经营和管理权利。</p>
<h5 id="2-非经常性损益"><a href="#2-非经常性损益" class="headerlink" title="2. 非经常性损益"></a>2. 非经常性损益</h5><p>非经常性损益是指与公司正常经营业务无直接关系，以及虽与正常经营业务相关，但由于其性质特殊和偶发性，影响报表使用人对公司经营业绩和盈利能力做出正常判断的各项交易和事项产生的损益。</p>
<h5 id="3-稀释性潜在普通股"><a href="#3-稀释性潜在普通股" class="headerlink" title="3. 稀释性潜在普通股"></a>3. 稀释性潜在普通股</h5><p>是指假设当期转换为普通股会减少每股收益的潜在普通股。主要包括可转换债权、认股权证、股份期权。</p>
<h5 id="4-联营企业"><a href="#4-联营企业" class="headerlink" title="4. 联营企业"></a>4. 联营企业</h5><p>联营企业：两个及两个以上相同或不同所有制性质的企业法人或事业单位法人，按自愿、平等、互利的原则，共同投资组成的经济组织称为联营企业。</p>
<p>联营企业包括国有联营企业、集体联营企业、国有与集体联营企业和其他联营企业。</p>
<h5 id="5-合营企业"><a href="#5-合营企业" class="headerlink" title="5. 合营企业"></a>5. 合营企业</h5><p>指中外合营企业。</p>
<h5 id="6-息税前利润（EBIT）"><a href="#6-息税前利润（EBIT）" class="headerlink" title="6. 息税前利润（EBIT）"></a>6. 息税前利润（EBIT）</h5><p>EBIT ＝ 净利润＋所得税＋利息</p>
<p>EBIT通过剔除所得税和利息，可以使投资者评价项目时不用考虑项目适用的所得税率和融资成本，这样方便投资者将项目放在不同的资本结构中进行考察。EBIT与净利润的主要区别就在于剔除了资本结构和所得税政策的影响。如此，同一行业中的不同企业之间，无论所在地的所得税率有多大差异，或是资本结构有多大的差异，都能够拿出EBIT这类指标来更为准确的比较盈利能力。而同一企业在分析不同时期盈利能力变化时，使用EBIT也较净利润更具可比性。</p>
<h3 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h3><ul>
<li><a href="http://www.csrc.gov.cn/pub/newsite/flb/flfg/bmgf/xxpl/xxpljsgg/201510/t20151012_284963.html" target="_blank" rel="noopener">公开发行证券的公司信息披露解释性公告第1号——非经常性损益（2008）</a></li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope="" itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://liu-hang.cn/2019/11/21/197-berry/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="dreamser.com">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="dreamser.com 技术博客">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2019/11/21/197-berry/" class="post-title-link" itemprop="url">树莓派4B配置</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2019-11-21 14:56:54" itemprop="dateCreated datePublished" datetime="2019-11-21T14:56:54+08:00">2019-11-21</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="安装系统"><a href="#安装系统" class="headerlink" title="安装系统"></a>安装系统</h2><h4 id="准备材料和工具"><a href="#准备材料和工具" class="headerlink" title="准备材料和工具"></a>准备材料和工具</h4><ul>
<li>树莓派裸板，我的是树莓派4B 4G版</li>
<li>树莓派电源，5V/3A</li>
<li>SD卡，闪迪64G</li>
<li>读卡器</li>
<li>系统，我选的是<a href="https://www.raspberrypi.org/downloads/raspbian/" target="_blank" rel="noopener">Raspbian</a></li>
<li>PC</li>
<li>Win32diskimager</li>
</ul>
<h4 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h4><p>下载好想用的系统，在PC上使用Win32diskimager将系统刻入SD卡，刻录完毕将SD卡插入树莓派的卡槽，连接电源即可使用</p>
<h2 id="开发环境"><a href="#开发环境" class="headerlink" title="开发环境"></a>开发环境</h2><p>看自己的用途，配置不同的环境，我考虑做一个轻量的服务器，然后做一些爬虫工作，所以nginx、MySQL、MongoDB、Python、nodejs、这些都是要装的。</p>
<h3 id="切换源镜像，更新软件"><a href="#切换源镜像，更新软件" class="headerlink" title="切换源镜像，更新软件"></a>切换源镜像，更新软件</h3><p>备份旧的源配置，切换为<a href="https://mirrors.tuna.tsinghua.edu.cn/help/raspbian/" target="_blank" rel="noopener">清华</a>的镜像，具体哪个镜像需要根据自己的系统来选择，我用的是Raspbian Buster<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sudo cp /etc/apt/sources.list /etc/apt/sources.list.bak  # 备份</span><br><span class="line">sudo vim /etc/apt/sources.list  # 编辑</span><br><span class="line">sudo apt-get update  # 更新软件列表</span><br><span class="line">sudo apt-get upgrade  # 更新软件</span><br></pre></td></tr></table></figure></p>
<p>我的sources.list为：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># 编辑 `/etc/apt/sources.list` 文件，删除原文件所有内容，用以下内容取代：</span><br><span class="line">deb http://mirrors.tuna.tsinghua.edu.cn/raspbian/raspbian/ buster main non-free contrib</span><br><span class="line">deb-src http://mirrors.tuna.tsinghua.edu.cn/raspbian/raspbian/ buster main non-free contrib</span><br><span class="line"></span><br><span class="line"># 编辑 `/etc/apt/sources.list.d/raspi.list` 文件，删除原文件所有内容，用以下内容取代：</span><br><span class="line">deb http://mirrors.tuna.tsinghua.edu.cn/raspberrypi/ buster main ui</span><br></pre></td></tr></table></figure></p>
<h3 id="开发工具"><a href="#开发工具" class="headerlink" title="开发工具"></a>开发工具</h3><ul>
<li>zsh</li>
<li>vim</li>
<li>git</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install zsh vim git</span><br></pre></td></tr></table></figure>
<p>vim的配置不在这里说明了</p>
<h4 id="服务器"><a href="#服务器" class="headerlink" title="服务器"></a>服务器</h4><ul>
<li>nginx</li>
<li>mysql</li>
<li>mongodb</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install nginx mariadb-server mongodb</span><br></pre></td></tr></table></figure>
<h5 id="nginx"><a href="#nginx" class="headerlink" title="nginx"></a>nginx</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># 配置文件路径 /etc/nginx/sites-available/default</span><br><span class="line"># 默认文件目录 /var/www/html/</span><br></pre></td></tr></table></figure>
<h4 id="python"><a href="#python" class="headerlink" title="python"></a>python</h4><h4 id="nodejs"><a href="#nodejs" class="headerlink" title="nodejs"></a>nodejs</h4><h2 id="内网穿透"><a href="#内网穿透" class="headerlink" title="内网穿透"></a>内网穿透</h2><p>想要远程访问树莓派，我选择的方案是FRP+阿里云实现内网穿透</p>
<p><a href="https://github.com/fatedier/frp/releases" target="_blank" rel="noopener">Frp下载地址</a></p>
<h3 id="阿里云服务器-Ubuntu-16-04"><a href="#阿里云服务器-Ubuntu-16-04" class="headerlink" title="阿里云服务器(Ubuntu 16.04)"></a>阿里云服务器(Ubuntu 16.04)</h3><p><strong>如果有开启防火墙，如iptables等，需要开放所需要使用的端口</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">wget https://github.com/fatedier/frp/releases/download/v0.29.0/frp_0.29.0_linux_amd64.tar.gz</span><br><span class="line">tar -zxvf frp_0.29.0_linux_amd64.tar.gz</span><br><span class="line">sudo mv frp_0.29.0_linux_amd64 /usr/frp</span><br><span class="line">sudo vim /usr/frp/frps.ini  # 编辑frp服务端配置</span><br><span class="line">sudo vim /lib/systemd/system/frps.service  # 注册frp服务端服务</span><br><span class="line">sudo systemctl enable frps  # 开机启动</span><br><span class="line">sudo systemctl start frps  # 启动</span><br><span class="line">sudo systemctl status frps  # 查看运行状态</span><br></pre></td></tr></table></figure>
<h4 id="frps-ini"><a href="#frps-ini" class="headerlink" title="frps.ini"></a>frps.ini</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[common]</span><br><span class="line">bind_port = xxx1</span><br><span class="line">vhost_http_port = xxx2</span><br><span class="line">vhost_https_port = xxx3</span><br><span class="line">token = xxxxxx1</span><br><span class="line">dashboard_port = xxx4</span><br><span class="line">dashboard_user = xxx</span><br><span class="line">dashboard_pwd = xxxxxx2</span><br></pre></td></tr></table></figure>
<h4 id="frps-service"><a href="#frps-service" class="headerlink" title="frps.service"></a>frps.service</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[Unit]</span><br><span class="line">Description=Frp Server Service</span><br><span class="line">After=network.target</span><br><span class="line"></span><br><span class="line">[Service]</span><br><span class="line">Type=simple</span><br><span class="line">User=nobody</span><br><span class="line">Restart=on-failure</span><br><span class="line">RestartSec=5s</span><br><span class="line">ExecStart=/usr/frp/frps -c /usr/frp/frps.ini</span><br><span class="line"></span><br><span class="line">[Install]</span><br><span class="line">WantedBy=multi-user.target</span><br></pre></td></tr></table></figure>
<h3 id="树莓派4B"><a href="#树莓派4B" class="headerlink" title="树莓派4B"></a>树莓派4B</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">wget https://github.com/fatedier/frp/releases/download/v0.29.0/frp_0.29.0_linux_arm.tar.gz</span><br><span class="line">tar -zxvf frp_0.29.0_linux_arm.tar.gz</span><br><span class="line">sudo mv frp_0.29.0_linux_arm /usr/frp</span><br><span class="line">sudo vim /usr/frp/frpc.ini  # 编辑frp客户端配置</span><br><span class="line">sudo vim /lib/systemd/system/frpc.service  # 注册frp客户端服务</span><br><span class="line">sudo systemctl enable frpc  # 开机启动</span><br><span class="line">sudo systemctl start frpc  # 启动</span><br><span class="line">sudo systemctl status frpc  # 查看运行状态</span><br></pre></td></tr></table></figure>
<h4 id="frpc-ini"><a href="#frpc-ini" class="headerlink" title="frpc.ini"></a>frpc.ini</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">[common]</span><br><span class="line">server_addr = xxx.xxx.xxx.xxx / domain</span><br><span class="line">server_port = xxx</span><br><span class="line">token = xxxxxx</span><br><span class="line"></span><br><span class="line">[ssh]</span><br><span class="line">type = tcp</span><br><span class="line">local_ip = 127.0.0.1</span><br><span class="line">local_port = xxx1</span><br><span class="line">remote_port = xxx2</span><br><span class="line"></span><br><span class="line">[web]</span><br><span class="line">type = http</span><br><span class="line">local_ip = 127.0.0.1</span><br><span class="line">local_port = 80</span><br><span class="line">custom_domains = xxx.xxx.xxx.xxx / domain</span><br></pre></td></tr></table></figure>
<h4 id="frpc-service"><a href="#frpc-service" class="headerlink" title="frpc.service"></a>frpc.service</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[Unit]</span><br><span class="line">Description=Frp Client Service</span><br><span class="line">After=network.target</span><br><span class="line"></span><br><span class="line">[Service]</span><br><span class="line">Type=simple</span><br><span class="line">User=nobody</span><br><span class="line">Restart=on-failure</span><br><span class="line">RestartSec=5s</span><br><span class="line">ExecStart=/usr/frp/frpc -c /usr/frp/frpc.ini</span><br><span class="line"></span><br><span class="line">[Install]</span><br><span class="line">WantedBy=multi-user.target</span><br></pre></td></tr></table></figure>
<h2 id="树莓派功能"><a href="#树莓派功能" class="headerlink" title="树莓派功能"></a>树莓派功能</h2><h3 id="作为服务器"><a href="#作为服务器" class="headerlink" title="作为服务器"></a>作为服务器</h3><p>安装并运行nginx，完成内网穿透，就能够从外部访问树莓派的网站了</p>
<h3 id="SSH远程访问"><a href="#SSH远程访问" class="headerlink" title="SSH远程访问"></a>SSH远程访问</h3><p>完成内网穿透，就通过下面的指令使用SSH远程操作树莓派了</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh -p &#123;remote_port&#125; &#123;user&#125;@&#123;xxx.xxx.xxx.xxx | domain&#125;</span><br></pre></td></tr></table></figure>
<h3 id="NAS"><a href="#NAS" class="headerlink" title="NAS"></a>NAS</h3><h4 id="硬盘挂载"><a href="#硬盘挂载" class="headerlink" title="硬盘挂载"></a>硬盘挂载</h4><p>我的硬盘格式是exFAT的，所以</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install exfat-fuse  # 安装扩展</span><br><span class="line">sudo modprobe fuse  # 加载内核支持</span><br><span class="line">sudo fdisk -l  # 查看存储列表，找到设备，如sda1</span><br><span class="line">sudo mkdir /media/yingpan  # 创建挂载目录</span><br><span class="line">sudo mount /dev/sda1 /media/yingpan  # 挂载</span><br><span class="line">df -h  # 查看挂载列表</span><br></pre></td></tr></table></figure>
<p>挂载完毕</p>
<h5 id="设置开机自动挂载"><a href="#设置开机自动挂载" class="headerlink" title="设置开机自动挂载"></a>设置开机自动挂载</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo blkid  # 查看硬盘UUID</span><br><span class="line">sudo vim /etc/fstab</span><br></pre></td></tr></table></figure>
<p>在最后一行添加<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">UUID=&quot;&quot; /media/yingpan auto rw,defaults,noexec,umask=0000 0 0</span><br></pre></td></tr></table></figure></p>
<h4 id="文件共享-局域网NAS"><a href="#文件共享-局域网NAS" class="headerlink" title="文件共享(局域网NAS)"></a>文件共享(局域网NAS)</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install samba samba-common-bin</span><br><span class="line">sudo vim /etc/samba/smb.conf</span><br></pre></td></tr></table></figure>
<h5 id="smb-conf"><a href="#smb-conf" class="headerlink" title="smb.conf"></a>smb.conf</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[pi]</span><br><span class="line">  path = /media/yingpan/</span><br><span class="line">  valid users = pi#有效用户</span><br><span class="line">  browseable = Yes</span><br><span class="line">  writeable = Yes</span><br><span class="line">  writelist = pi#可写用户列表</span><br><span class="line">  create mask = 0777#新创建文件的默认属性</span><br><span class="line">  directory mask = 0777#新创建文件夹的默认属性</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo smbpasswd -a pi  # 添加samba用户</span><br><span class="line">sudo systemctl restart smbd  # 重启服务</span><br><span class="line">sudo systemctl enable smbd  # 开机启动</span><br></pre></td></tr></table></figure>
<p>配置完毕即可在局域网访问硬盘上的文件</p>
<h4 id="下载器"><a href="#下载器" class="headerlink" title="下载器"></a>下载器</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install aria2</span><br><span class="line">mkdir -p .config/aria2</span><br><span class="line">touch .config/aria2/aria2.session</span><br><span class="line">vim .config/aria2/aria2.config</span><br></pre></td></tr></table></figure>
<h5 id="aria2-config"><a href="#aria2-config" class="headerlink" title="aria2.config"></a>aria2.config</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">#RPC端口, 仅当默认端口被占用时修改</span><br><span class="line">#rpc-listen-port=6800</span><br><span class="line">#最大同时下载数(任务数), 路由建议值: 3</span><br><span class="line">max-concurrent-downloads=5</span><br><span class="line">#断点续传</span><br><span class="line">continue=true</span><br><span class="line">#同服务器连接数</span><br><span class="line">max-connection-per-server=5</span><br><span class="line">#最小文件分片大小, 下载线程数上限取决于能分出多少片, 对于小文件重要</span><br><span class="line">min-split-size=10M</span><br><span class="line">#单文件最大线程数, 路由建议值: 5</span><br><span class="line">split=10</span><br><span class="line">#下载速度限制</span><br><span class="line">max-overall-download-limit=0</span><br><span class="line">#单文件速度限制</span><br><span class="line">max-download-limit=0</span><br><span class="line">#上传速度限制</span><br><span class="line">max-overall-upload-limit=0</span><br><span class="line">#单文件速度限制</span><br><span class="line">max-upload-limit=0</span><br><span class="line">#断开速度过慢的连接</span><br><span class="line">#lowest-speed-limit=0</span><br><span class="line">#验证用，需要1.16.1之后的release版本</span><br><span class="line">#referer=*</span><br><span class="line">#文件保存路径, 默认为当前启动位置(我的是外置设备，请自行坐相应修改)</span><br><span class="line">dir=/media/share</span><br><span class="line">#文件缓存, 使用内置的文件缓存, 如果你不相信Linux内核文件缓存和磁盘内置缓存时使用, 需要1.16及以上版本</span><br><span class="line">#disk-cache=0</span><br><span class="line">#另一种Linux文件缓存方式, 使用前确保您使用的内核支持此选项, 需要1.15及以上版本(?)</span><br><span class="line">#enable-mmap=true</span><br><span class="line">#文件预分配, 能有效降低文件碎片, 提高磁盘性能. 缺点是预分配时间较长</span><br><span class="line">#所需时间 none &lt; falloc ? trunc &lt;&lt; prealloc, falloc和trunc需要文件系统和内核支持</span><br><span class="line">file-allocation=prealloc</span><br><span class="line">#不进行证书校验</span><br><span class="line">check-certificate=false</span><br><span class="line">#保存下载会话</span><br><span class="line">save-session=/home/pi/.config/aria2/aria2.session</span><br><span class="line">input-file=/home/pi/.config/aria2/aria2.session</span><br><span class="line">#断电续传</span><br><span class="line">save-session-interval=60</span><br><span class="line">#DMCA</span><br><span class="line">enable-dht=true</span><br><span class="line">bt-enable-lpd=true</span><br><span class="line">enable-peer-exchange=true</span><br><span class="line">#bt-tracker</span><br><span class="line">bt-tracker=udp://62.138.0.158:6969/announce,udp://188.241.58.209:6969/announce,udp://151.80.120.112:2710/announce,udp://151.80.120.112:2710/announce,udp://185.19.107.254:80/announce,udp://93.158.213.92:1337/announce,udp://185.225.17.100:1337/announce,udp://208.83.20.20:6969/announce,udp://5.206.19.247:6969/announce,udp://37.235.174.46:2710/announce,udp://142.44.243.4:1337/announce,udp://195.154.52.99:80/announce,udp://159.100.245.181:6969/announce,udp://89.234.156.205:451/announce,udp://45.56.74.11:6969/announce,udp://54.37.235.149:6969/announce,udp://51.15.226.113:6969/announce,udp://184.105.151.164:6969/announce,udp://176.113.71.19:6961/announce,udp://46.148.18.254:2710/announce</span><br></pre></td></tr></table></figure>
<p>(bt-tracker最新地址)[<a href="https://github.com/ngosang/trackerslist]" target="_blank" rel="noopener">https://github.com/ngosang/trackerslist]</a></p>
<h5 id="自启动"><a href="#自启动" class="headerlink" title="自启动"></a>自启动</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo vim /lib/systemd/system/aria2.service</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">[Unit]</span><br><span class="line">Description=Aria2 Service</span><br><span class="line">Requires=network.target</span><br><span class="line">After=dhcpcd.service</span><br><span class="line"></span><br><span class="line">[Service]</span><br><span class="line">User=pi</span><br><span class="line">Type=forking</span><br><span class="line">ExecStart=/usr/bin/aria2c --conf-path=/home/pi/.config/aria2/aria2.config</span><br><span class="line">ExecReload=/usr/bin/kill -HUP $MAINPID</span><br><span class="line">RestartSec=1min</span><br><span class="line">Restart=on-failure</span><br><span class="line"></span><br><span class="line">[Install]</span><br><span class="line">WantedBy=multi-user.target</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl daemon-reload</span><br><span class="line">sudo systemctl enable aria2</span><br><span class="line">sudo systemctl start aria2</span><br></pre></td></tr></table></figure>
<h5 id="WebUI"><a href="#WebUI" class="headerlink" title="WebUI"></a>WebUI</h5><p>(AriaNg)[<a href="https://github.com/mayswind/AriaNg]" target="_blank" rel="noopener">https://github.com/mayswind/AriaNg]</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">wget https://github.com/mayswind/AriaNg/releases/download/1.1.3/AriaNg-1.1.3.zip</span><br><span class="line">unzip AriaNg-1.1.3.zip -d /var/www/html/aria</span><br></pre></td></tr></table></figure>
<p>之前已经配置过nginx，可以直接访问</p>
<p>在 frpc.ini 中新增</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[aria2-rpc]</span><br><span class="line">type = tcp</span><br><span class="line">local_ip = 127.0.0.1</span><br><span class="line">local_port = 6800</span><br><span class="line">remote_port = 6800</span><br></pre></td></tr></table></figure>
<h3 id="FTP"><a href="#FTP" class="headerlink" title="FTP"></a>FTP</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install vsftpd</span><br></pre></td></tr></table></figure>
<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><ul>
<li>(树莓派3B+安装Aria2远程下载服务器)[<a href="https://blog.gaozhe.top/essay/85.html]" target="_blank" rel="noopener">https://blog.gaozhe.top/essay/85.html]</a></li>
<li>(树莓派下Aria2利用frp开启内网穿透)[<a href="https://blog.gaozhe.top/essay/97.html]" target="_blank" rel="noopener">https://blog.gaozhe.top/essay/97.html]</a></li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope="" itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://liu-hang.cn/2019/11/21/198-crontab/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="dreamser.com">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="dreamser.com 技术博客">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2019/11/21/198-crontab/" class="post-title-link" itemprop="url">crontab 定时任务</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2019-11-21 14:56:54" itemprop="dateCreated datePublished" datetime="2019-11-21T14:56:54+08:00">2019-11-21</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">crontab -l</span><br><span class="line">crontab -e</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># .---------------- minute (0 - 59) </span><br><span class="line"># |  .------------- hour (0 - 23)</span><br><span class="line"># |  |  .---------- day of month (1 - 31)</span><br><span class="line"># |  |  |  .------- month (1 - 12) OR jan,feb,mar,apr ... </span><br><span class="line"># |  |  |  |  .---- day of week (0 - 6) (Sunday=0 or 7)  OR</span><br><span class="line">#sun,mon,tue,wed,thu,fri,sat </span><br><span class="line"># |  |  |  |  |</span><br><span class="line"># *  *  *  *  *  command to be executed</span><br></pre></td></tr></table></figure>
<p>minute：代表一小时内的第几分，范围 0-59。<br>hour：代表一天中的第几小时，范围 0-23。<br>mday：代表一个月中的第几天，范围 1-31。<br>month：代表一年中第几个月，范围 1-12。<br>wday：代表星期几，范围 0-7 (0及7都是星期天)。<br>who：要使用什么身份执行该指令，当您使用 crontab -e 时，不必加此字段。<br>command：所要执行的指令。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope="" itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://liu-hang.cn/2019/11/21/199-react-native-pay-wx/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="dreamser.com">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="dreamser.com 技术博客">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2019/11/21/199-react-native-pay-wx/" class="post-title-link" itemprop="url">React Native 支付集成（微信）</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2019-11-21 14:56:54" itemprop="dateCreated datePublished" datetime="2019-11-21T14:56:54+08:00">2019-11-21</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>我仅仅做了 Android 的集成，iOS使用的是应用内购买，后面会有文章介绍</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2019/11/21/199-react-native-pay-wx/#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope="" itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://liu-hang.cn/2019/11/21/183-RN-open-app-except-page-from-webpage-or-otherapp/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="dreamser.com">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="dreamser.com 技术博客">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2019/11/21/183-RN-open-app-except-page-from-webpage-or-otherapp/" class="post-title-link" itemprop="url">React Native 实现从浏览器或其他APP唤醒APP并跳转指定页面</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2019-11-21 14:56:54" itemprop="dateCreated datePublished" datetime="2019-11-21T14:56:54+08:00">2019-11-21</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="APP环境"><a href="#APP环境" class="headerlink" title="APP环境"></a>APP环境</h3><ul>
<li>react 0.59.5</li>
<li>react-navigation 3.9.1</li>
<li>react-navigation-redux-helpers 3.0.2</li>
</ul>
<h3 id="React-Native-实现"><a href="#React-Native-实现" class="headerlink" title="React Native 实现"></a>React Native 实现</h3><p>我使用 react-navigation 来管理路由，react-navigation本身支持 <a href="https://reactnavigation.org/docs/en/deep-linking.html" target="_blank" rel="noopener">Deep Linking</a>，但是我使用 react-navigation-redux-helpers 组件将路由也封装在 redux 下了，所以 react-navigation 本身的 deep-linking 功能就不能用了，在 react-navigation-redux-helpers 的 issue 下面我找到了其他的解决方案。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">// 为了监听APP从后台唤起的行为，所以我选择使用 AppState 接口，然后使用 Linking 获取 url，然后将获取到的地址初步解析提交给 LinkRoutes 方法</span><br><span class="line">import &#123; Linking, AppState &#125; from &apos;react-native&apos;</span><br><span class="line">import LinkRoutes from &apos;./src/routes/linkRoutes&apos;</span><br><span class="line">...</span><br><span class="line">componentDidMount()&#123;</span><br><span class="line">  AppState.addEventListener(&apos;change&apos;, this._handleAppStateChange)</span><br><span class="line">&#125;</span><br><span class="line">componentWillUnmount()&#123;</span><br><span class="line">  AppState.removeEventListener(&apos;change&apos;, this._handleAppStateChange)</span><br><span class="line">&#125;</span><br><span class="line">_handleAppStateChange = (nextAppState) =&gt; &#123;</span><br><span class="line">  if(nextAppState===&apos;active&apos;)&#123;</span><br><span class="line">    Linking.getInitialURL().then(res =&gt; &#123;</span><br><span class="line">      if(!!res)&#123;</span><br><span class="line">        LinkRoutes(res.split(&apos;:/&apos;)[1])</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">// LinkRoutes 的实现，使用了 path-parser 做 url 解析，然后维护 APP 内需要跳转的页面的列表，然后调用 react-navigation 的navigate 方法，使用 dispatch 实现跳转到指定页面</span><br><span class="line">import PathParser from &apos;path-parser&apos;</span><br><span class="line">import &#123; NavigationActions &#125; from &apos;react-navigation&apos;</span><br><span class="line">import store from &apos;../reducers&apos;</span><br><span class="line">import _ from &apos;lodash&apos;</span><br><span class="line"></span><br><span class="line">const paths = [</span><br><span class="line">  &#123;</span><br><span class="line">    routeName: &apos;Page&apos;,</span><br><span class="line">    path: new PathParser(&apos;/page&apos;)</span><br><span class="line">  &#125;</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line">const findPath = url =&gt; &#123;</span><br><span class="line">  let idx = _.findIndex(paths, p =&gt; &#123;</span><br><span class="line">    return p.path.test(url)</span><br><span class="line">  &#125;)</span><br><span class="line">  return idx &gt; -1 ? paths[idx] : false</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export default url =&gt; &#123;</span><br><span class="line">  const pathObj = findPath(url)</span><br><span class="line">  if(!pathObj) return</span><br><span class="line">  const navigateAction = NavigationActions.navigate(&#123;</span><br><span class="line">    routeName: pathObj.routeName,</span><br><span class="line">    params: pathObj.path.test(url)</span><br><span class="line">  &#125;)</span><br><span class="line">  store.dispatch(navigateAction)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="iOS配置"><a href="#iOS配置" class="headerlink" title="iOS配置"></a>iOS配置</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">// 修改 AppDelagate.m，添加</span><br><span class="line">#if __IPHONE_OS_VERSION_MAX_ALLOWED &gt; 100000</span><br><span class="line">// 最新版本系统回调</span><br><span class="line">- (BOOL)application:(UIApplication *)app openURL:(NSURL *)url options:(NSDictionary&lt;UIApplicationOpenURLOptionsKey, id&gt; *)options</span><br><span class="line">&#123;</span><br><span class="line">  BOOL result = [[UMSocialManager defaultManager]  handleOpenURL:url options:options];</span><br><span class="line">  if (!result) &#123;</span><br><span class="line">    // 其他如支付等SDK的回调</span><br><span class="line">  &#125;</span><br><span class="line">  return result;</span><br><span class="line">&#125;</span><br><span class="line">#endif</span><br><span class="line"></span><br><span class="line">// 支持所有iOS系统，此方法在swift4.1(Xcode 9.3)已废弃，Objective-C项目不影响。</span><br><span class="line">- (BOOL)application:(UIApplication *)application openURL:(NSURL *)url sourceApplication:(NSString *)sourceApplication annotation:(id)annotation</span><br><span class="line">&#123;</span><br><span class="line">  BOOL result = [[UMSocialManager defaultManager] handleOpenURL:url sourceApplication:sourceApplication annotation:annotation];</span><br><span class="line">  if (!result) &#123;</span><br><span class="line">    // 其他如支付等SDK的回调</span><br><span class="line">  &#125;</span><br><span class="line">  return result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (BOOL)application:(UIApplication *)application handleOpenURL:(NSURL *)url</span><br><span class="line">&#123;</span><br><span class="line">  BOOL result = [[UMSocialManager defaultManager] handleOpenURL:url];</span><br><span class="line">  if (!result) &#123;</span><br><span class="line">    // 其他如支付等SDK的回调</span><br><span class="line">  &#125;</span><br><span class="line">  return result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>然后，修改 Url Types，添加 myapp</p>
<p>测试指令<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">xcrun simctl openurl booted myapp://</span><br></pre></td></tr></table></figure></p>
<p>iOS 使用模拟器是 Linking 捕捉不到 url，所以我是打包后在手机上测试的</p>
<h3 id="Android配置"><a href="#Android配置" class="headerlink" title="Android配置"></a>Android配置</h3><p>在 .MainActivity 下添加配置，还可以设置host以及path等，但是因为我是通过RN做解析，这里就不加了</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">intent-filter</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">action</span> <span class="attr">android:name</span>=<span class="string">"android.intent.action.VIEW"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">category</span> <span class="attr">android:name</span>=<span class="string">"android.intent.category.DEFAULT"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">category</span> <span class="attr">android:name</span>=<span class="string">"android.intent.category.BROWSABLE"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">data</span> <span class="attr">android:scheme</span>=<span class="string">"myapp"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">intent-filter</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>测试指令<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb shell am start -W -a android.intent.action.VIEW -d "myapp://" com.myapp</span><br></pre></td></tr></table></figure></p>
<h3 id="参考文章"><a href="#参考文章" class="headerlink" title="参考文章"></a>参考文章</h3><ul>
<li><a href="https://reactnavigation.org/docs/en/deep-linking.html" target="_blank" rel="noopener">React Navigation Deep linking</a></li>
<li><a href="https://github.com/react-navigation/react-navigation/issues/1189" target="_blank" rel="noopener">Redux can not be used with deep linking</a></li>
<li><a href="https://blog.csdn.net/u010379595/article/details/83622335" target="_blank" rel="noopener">react native 实现浏览器唤醒APP并跳转指定页面</a></li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope="" itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://liu-hang.cn/2019/11/21/186-react-native-native-modules-ios/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="dreamser.com">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="dreamser.com 技术博客">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2019/11/21/186-react-native-native-modules-ios/" class="post-title-link" itemprop="url">React Native 原生模块（iOS）</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2019-11-21 14:56:54" itemprop="dateCreated datePublished" datetime="2019-11-21T14:56:54+08:00">2019-11-21</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="参考文章"><a href="#参考文章" class="headerlink" title="参考文章"></a>参考文章</h2><ul>
<li><a href="https://reactnative.cn/docs/native-modules-ios/" target="_blank" rel="noopener">原生模块</a></li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope="" itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://liu-hang.cn/2019/11/21/187-mysql-upgrade-macos/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="dreamser.com">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="dreamser.com 技术博客">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2019/11/21/187-mysql-upgrade-macos/" class="post-title-link" itemprop="url">MacOS 升级 MySQL</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2019-11-21 14:56:54" itemprop="dateCreated datePublished" datetime="2019-11-21T14:56:54+08:00">2019-11-21</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>今天青岛大雾！</p>
<h4 id="报错"><a href="#报错" class="headerlink" title="报错"></a>报错</h4><p>一早来到公司，启动mysql服务，结果给我来了这么一句</p>
<blockquote>
<p>ERROR! The server quit without updating PID file (/usr/local/var/mysql/liuhangdeMacBook-Pro.local.pid).</p>
</blockquote>
<p>额，O__O “…</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2019/11/21/187-mysql-upgrade-macos/#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

  </div>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><span class="space">&hellip;</span><a class="page-number" href="/page/21/">21</a><a class="extend next" rel="next" href="/page/3/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let activeClass = CONFIG.comments.activeClass;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">dreamser.com</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">206</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
        <span class="site-state-item-count">13</span>
        <span class="site-state-item-name">分类</span>
      </div>
      <div class="site-state-item site-state-tags">
        <span class="site-state-item-count">49</span>
        <span class="site-state-item-name">标签</span>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">dreamser.com</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> 强力驱动 v3.8.0
  </div>
  <span class="post-meta-divider">|</span>
  <div class="theme-info">主题 – <a href="https://muse.theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a> v7.7.0
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>
<script src="/js/utils.js"></script><script src="/js/motion.js"></script>
<script src="/js/schemes/muse.js"></script>
<script src="/js/next-boot.js"></script>



  















  

  

</body>
</html>
